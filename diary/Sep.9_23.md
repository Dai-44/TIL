### ログ駆動
5:45  
- Web技術の基本と現場Railsを読む。今日明日はB'zのLIVEでPCいじる時間が取れないので、せめて出発前に2日分読んでTILも更新しておきたい。

9/10(日)  
10:33  
- 静岡2日目の朝、昨日の幸せな感覚を引きずったまま帰る。今日は何もできないが、明日からプロダクト開発に沿ってWebアプリの大枠考えたりRails応用, Ruby入門の復習したりする。

### 今日のゆる学び
- Web技術の基本  
  - アプリケーションサーバーは３層アーキテクチャのアプリケーション層に位置する。ユーザーから受け取ったデータをもとにサーバーサイドプログラムを実行することで、そのデータを加工したりデータベースのデータを検索・加工したりしてWebサーバーへレスポンスを返す。プレゼンテーション層とデータ層の繋ぎ役であり、３層アーキテクチャでは最も多機能なサーバーと言える。
  - 多機能であり、業務が複雑になるほど負荷が高くなるため、サーバー機器にはサーバーサイドスクリプトを問題なく動作させられるだけのメモリ容量やCPU性能が重視される。
  - セッション管理機能も有する。APサーバーがクライアントごとに発行するセッションIDを通信データに含めることで、同一のクライアントからの通信を一つの連続した処理の単位（セッション）として管理し、そのクライアントのログイン状態を把握する（HTTPのステートレス接続を補完する）。クライアントがログアウトした場合はそれ以上の状態を把握する必要がないため、セッションIDは破棄される。
    - セッションIDを発行するのはAPサーバーであり、それをクライアントに渡すのはWebサーバーという構造？アーキテクチャにもよるだろうが。かつ、それ以降のクライアントとの通信で送られてきたセッションIDの確認等を行うのもWebサーバーということで良いのかな。
  - アプリケーションにおけるトランザクション処理はHTTPでの一つ一つのリクエスト-レスポンスという通信が複数集まって構成されるが、それらの通信をまとめて一つのトランザクションとして管理する機能も有している。
  - DBを管理するシステムをDBMSといい、それが搭載されたサーバーをDBサーバーという。
  - DBサーバーも冗長化構成を取るのが一般的だが、アプリケーションの運用中はDB内の情報は頻繁に更新される。冗長化で構えた複数のDBサーバー同士は常に同じ状態でないと冗長化の意味がないので、頻繁な更新を適切に反映する仕組みを整える必要がある。DBサーバーの冗長化方法には、ミラーリング、レプリケーション、シェアードディスクがある（詳細はp.118）。
  - リクエストに対するレスポンスを覚えておき、すぐにクライアントにレスポンスを返す役割を担うのがキャッシュサーバー。静的コンテンツをハードディスクから読み出したり、DBからデータを取得する処理は、リクエストの数が多くなるほどサーバー側の負荷が高くなって処理が重くなる。ただ、頻繁に更新されないデータであればキャッシュサーバーが記憶しておくことで、クライアントへ迅速にレスポンスを返せるようになり、WebサーバーやDBMSへの負荷もへらせる。文書や画像などのコンテンツのキャッシュはコンテンツキャッシュ、DBMSへの検索要求のキャッシュはクエリキャッシュと呼ばれる。
  - AjaxではWebブラウザ上でクライアントサイド・スクリプトとして動くJavaScriptが主な処理を担う。Webサーバーと直接やりとりしてDOMを用いてXMLやHTMLを操作する（WebブラウザではなくJavaScriptがWebサーバーとの処理を行う）が、HTML自体をやり取りしているのではなく、更新に必要なデータのやり取りのみを行なっている。従い、送信するデータ量は同期通信よりも少なくなり、サーバーにかかる負荷が減る。
